# Social Integration Test Schema
#
# Purpose: Integration testing for social network queries
# Database: test_integration (separate from benchmark's 'social' database)
# Tables: users_test, posts_test, user_follows_test, post_likes_test
#
# IMPORTANT: This is NOT the benchmark schema!
# - Benchmark: benchmarks/social_network/schemas/social_benchmark.yaml → 'social' database
# - Integration tests: This file → 'test_integration' database
#
# Used by: Integration tests, matrix tests, E2E validation

name: social_integration

graph_schema:
  nodes:
    - label: User
      database: test_integration
      table: users_test
      node_id: user_id
      property_mappings:
        user_id: user_id
        name: full_name
        email: email_address
        age: age
        registration_date: registration_date
        is_active: is_active
        country: country
        city: city

    - label: Post
      database: test_integration
      table: posts_test
      node_id: post_id
      property_mappings:
        post_id: post_id
        title: post_title
        content: post_content
        created_at: post_date
        author_id: author_id

  edges:
    - type: FOLLOWS
      database: test_integration
      table: user_follows_test
      from_id: follower_id
      to_id: followed_id
      edge_id: follow_id
      from_node: User
      to_node: User
      property_mappings:
        follow_date: follow_date

    - type: LIKED
      database: test_integration
      table: post_likes_test
      from_id: user_id
      to_id: post_id
      edge_id: like_id
      from_node: User
      to_node: Post
      property_mappings:
        like_date: like_date

    - type: AUTHORED
      database: test_integration
      table: posts_test
      from_id: author_id
      to_id: post_id
      from_node: User
      to_node: Post
      is_denormalized: true
      property_mappings: {}
