name: ecommerce_graph
version: "1.0"

graph_schema:
    nodes:
      - label: Customer
        database: ecommerce
        table: customers
        node_id: customer_id
        property_mappings:
          name: "CONCAT(first_name, ' ', last_name)"
          email: "email"
          age: "age" 
          gender: "gender"
          country: "country"
          city: "city"
          registration_date: "registration_date"
          total_spent: "total_spent"
          is_premium: "is_premium"
          customer_id: "customer_id"

      - label: Product
        database: ecommerce
        table: products
        node_id: product_id
        label: Product
        property_mappings:
          name: name
          category: category
          brand: brand
          price: price
          rating: rating
          num_reviews: num_reviews
          in_stock: in_stock
          created_date: created_date
          product_id: product_id

    edges:
      - type: PURCHASED
        database: ecommerce
        table: orders
        from_id: customer_id
        to_id: "product_id"
        type_name: "PURCHASED"
        property_mappings:
          order_id: "order_id"
          quantity: "quantity"
          unit_price: "unit_price"
          total_amount: "total_amount"
          order_date: "order_date"
          order_time: "order_time"
          status: "status"